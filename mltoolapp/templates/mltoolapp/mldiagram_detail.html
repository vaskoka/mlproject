{% extends "base_generic.html" %}

  
{% block content %}
<div class="container">
  <div class="container text-center"><h2>{{ mldiagram }} </h2>
    {% comment %} Check if there are any clabjects in the Ml diagram {% endcomment %}
    {% if clabject_items %}
    <div class="container text-left">
      <a href="{% url 'clabject-createxxx' mldiagram.id %}"> <button type="button" class="btn btn-outline-dark">New Clabject</button></a>
      <a href="{% url 'mldiagrams' %}"> <button type="button" class="btn btn-outline-dark">Back</button></a><hr>
    </div>
</div><div class="container text-center">
  <div class="row">
    {% comment %} Display all the clabjects {% endcomment %}
{% for clabject in clabject_items %}

 
    {% ifchanged clabject.potency %}

    <div class="row"> <div class=col><table class="table">
      <tr>
        <th><a href="{{ clabject.get_absolute_url }}">Clabject: {{ clabject }}</a></th>
       
      </tr>
      <tr>
        <td><ul>
          <li>Instance of:<strong>{{clabject.instanceOf}}</strong></li>
          <li>Subclass of:{{clabject.subclassOf}}</li>
          <li>Potency:{{clabject.potency}}</li>
          </ul>
        </td>
       
      </tr>
      <tr>
        <td>  {% for item in attribute_items %}
          {% if item.clabject == clabject %}
          <ul>
          <li> ID:{{item.id}}; Attr name:<strong> {{ item.name}};</strong> {{item.data_type}}; Attr value: {{item.value }} Potency: {{item.potency }}</li>
          </ul>
          {% endif %}
          {% endfor %}
        </td>
      </tr>
    </table>
    {% else %}
    <div class=col><table class="table">
      <tr>
        <th><a href="{{ clabject.get_absolute_url }}">Clabject: {{ clabject }}</a></th>
      </tr>
      <tr>
        <td><ul>
          <li>Instance of:{{clabject.instanceOf}}</li>
          <li>Subclass of:{{clabject.subclassOf}}</li>
          <li>Potency:{{clabject.potency}}</li>
          </ul>
        </td>
       
      </tr>
      <tr>
        <td>  {% for item in attribute_items %}
          {% if item.clabject == clabject %}
          <ul>
          <li> ID:{{item.id}}; Attr name:<strong> {{ item.name}}</strong>; {{item.data_type}}; Attr value: {{item.value }}</li>
          </ul>
          {% endif %}
          {% endfor %}
        </td>
      </tr>
    </table>
    {% endifchanged %}
  </div>
    {% endfor %}
    {% comment %} Execute when there are no clabjects in the ml diagram {% endcomment %}
  {% else %}
  <div class="container text-left">
    <a href="{% url 'clabject-createxxx' mldiagram.id %}"> <button type="button" class="btn btn-outline-dark">New Clabject</button></a>
    <a href="{% url 'mldiagrams' %}"> <button type="button" class="btn btn-outline-dark">Back</button></a><hr>
  </div>
    <p>There are no items in the diagram available. Add items by selecting New Clabject</p><hr>
   
  {%endif%}
{% endblock %}
</div></div>